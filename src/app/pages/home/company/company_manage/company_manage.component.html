<div class="temp-company-manage">
  <div class="content-title">
    <button class="justify-self-start" routerLink="/home/companies"> <mat-icon class="material-symbols-rounded" >arrow_back</mat-icon> </button>
    <h1 class="text-center font-semibold">Empresa</h1>
  </div>

  <div class="card">
    <div class="title">Datos principales</div>

    <div class="body !py-7">
      <ng-container [formGroup]="formCompany" >
        <div class="section">
          <div class="form-group">
            <label for="">Nombre <span [class.text-red]="getInputError('name','')">*</span></label>
            <input class="input" formControlName="name" type="text" [class.input-error]="getInputError('name','')">
            <p *ngIf="getTypeError('name', 'required', '')" class="text-error"> campo requerido </p>
          </div>
          <div class="form-group">
            <label for="">Email <span [class.text-red]="getInputError('email','')">*</span></label>
            <input class="input" formControlName="email" type="text" [class.input-error]="getInputError('email','')">
            <p *ngIf="getTypeError('email', 'required', '')" class="text-error"> campo requerido </p>
            <p *ngIf="getTypeError('email', 'email', '')" class="text-error"> formato de correo incorrecto </p>
          </div>
        </div>

        <div class="section">
          <div class="form-group">
            <label for="">Razón Social <span [class.text-red]="getInputError('razon_social','')">*</span></label>
            <input class="input" formControlName="razon_social" type="text" [class.input-error]="getInputError('razon_social','')">
            <p *ngIf="getTypeError('razon_social', 'required', '')" class="text-error"> campo requerido </p>
          </div>
          <div class="form-group">
            <label for="">Ruc <span [class.text-red]="getInputError('name','')">*</span></label>
            <input class="input" formControlName="ruc" type="text" [class.input-error]="getInputError('ruc','')">
            <p *ngIf="getTypeError('ruc', 'required', '')" class="text-error"> campo requerido </p>

          </div>
        </div>

        <div class="section">
          <div class="form-group">
            <label for="">Distrito <span [class.text-red]="getInputError('distrito','')">*</span></label>
            <input class="input" formControlName="distrito" type="text" [class.input-error]="getInputError('distrito','')">
            <p *ngIf="getTypeError('distrito', 'required', '')" class="text-error"> campo requerido </p>

          </div>
          <div class="form-group">
            <label for="">Provincia <span [class.text-red]="getInputError('provincia','')">*</span></label>
            <input class="input" formControlName="provincia" type="text" [class.input-error]="getInputError('provincia','')">
            <p *ngIf="getTypeError('provincia', 'required', '')" class="text-error"> campo requerido </p>
          </div>
        </div>

        <div class="w-1/2 pr-3">
          <div class="form-group">
            <label for="">Dirección <span [class.text-red]="getInputError('address','')">*</span></label>
            <input class="input" formControlName="address" type="text" [class.input-error]="getInputError('address','')">
            <p *ngIf="getTypeError('address', 'required', '')" class="text-error"> campo requerido </p>
          </div>
          <span></span>
        </div>
      </ng-container>

      <mat-divider></mat-divider>

      <div class="flex justify-around gap-4 pt-8">
        <div class="card w-full" [formGroup]="formRepresentative">
          <span class="title">Representante</span >

          <div class="body">
            <div class="form-group">
              <label for="">Nombre <span [class.text-red]="getInputError('name_representative','representative')">*</span></label>
              <input class="input" formControlName="name_representative" type="text" [class.input-error]="getInputError('name_representative','representative')">
              <p *ngIf="getTypeError('name_representative', 'required', 'representative')" class="text-error"> campo requerido </p>

            </div>

            <div class="form-group">
              <label for="">DNI <span [class.text-red]="getInputError('dni_representative','representative')">*</span></label>
              <input class="input" formControlName="dni_representative" type="text" [class.input-error]="getInputError('dni_representative','representative')">
              <p *ngIf="getTypeError('dni_representative', 'required', 'representative')" class="text-error"> campo requerido </p>

            </div>

            <div class="form-group">
              <label for="">Email</label>
              <input class="input" formControlName="email_representative" type="text">
            </div>
          </div>
        </div>

        <div class="card w-full" [formGroup]="formManager">
          <span class="title">Gerente</span >

          <div class="body">
            <div class="form-group">
              <label for="">Nombre <span [class.text-red]="getInputError('name_general_manager','manager')">*</span></label>
              <input class="input" formControlName="name_general_manager" type="text" [class.input-error]="getInputError('name_general_manager','manager')" >
              <p *ngIf="getTypeError('name_general_manager', 'required', 'manager')" class="text-error"> campo requerido </p>

            </div>

            <div class="form-group">
              <label for="">DNI <span [class.text-red]="getInputError('dni_general_manager','manager')">*</span></label>
              <input class="input" formControlName="dni_general_manager" type="text" [class.input-error]="getInputError('dni_general_manager','manager')" >
              <p *ngIf="getTypeError('dni_general_manager', 'required', 'manager')" class="text-error"> campo requerido </p>
            </div>

            <div class="form-group">
              <label for="">Email</label>
              <input class="input" formControlName="email_general_manager" type="text">
            </div>
          </div>
        </div>

        <div class="card w-full" [formGroup]="formSupervisor">
          <span class="title">Supervisor</span >

          <div class="body">
            <div class="form-group">
              <label for="">Nombre <span [class.text-red]="getInputError('name_supervisor','supervisor')">*</span></label>
              <input class="input" formControlName="name_supervisor" type="text" [class.input-error]="getInputError('name_supervisor','supervisor')" >
              <p *ngIf="getTypeError('name_supervisor', 'required', 'supervisor')" class="text-error"> campo requerido </p>
            </div>

            <div class="form-group">
              <label for="">DNI <span [class.text-red]="getInputError('dni_supervisor','supervisor')">*</span></label>
              <input class="input" formControlName="dni_supervisor" type="text" [class.input-error]="getInputError('dni_supervisor','supervisor')" >
              <p *ngIf="getTypeError('dni_supervisor', 'required', 'supervisor')" class="text-error"> campo requerido </p>
            </div>

            <div class="form-group">
              <label for="">Email</label>
              <input class="input" formControlName="email_supervisor" type="text">
            </div>
          </div>
        </div>
      </div>

      <div class="flex w-full mt-5 justify-end">
        <button class="btn-green" [disabled]="companyData().loading" (click)="CreateCompany()"> Crear <mat-icon *ngIf="companyData().loading" class="material-symbols-rounded spinner animate-spin">progress_activity</mat-icon> </button>
      </div>
    </div>
  </div>
</div>
